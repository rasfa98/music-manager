{{>flash}}

<h1>Edit album</h1>

<form action="/edit/{{album.albumId}}" method="POST">
    <div class="row">
        <div class="col-sm-6">
            <div class="form-group">
                <label for="albumTitle">Title</label>
                <input type="text" name="albumTitle" class="form-control" placeholder="The Great Album" value="{{album.albumTitle}}"
                    required>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="form-group">
                <label for="band">Band</label>
                <input type="text" name="band" class="form-control" placeholder="John Doe" value="{{album.band}}"
                    required>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-6">
            <div class="form-group">
                <label for="genre">Genre</label>
                <input type="text" name="genre" class="form-control" placeholder="Rock" value="{{album.genre}}"
                    required>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="form-group">
                <label for="year">Year</label>
                <input type="text" name="year" class="form-control" placeholder="1994" min="4" max="4" value="{{album.year}}"
                    required>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-6">
            <div class="form-group">
                <label for="label">Label</label>
                <input type="text" name="label" class="form-control" placeholder="Hello World Records" value="{{album.label}}"
                    required>
            </div>
        </div>

        <div class="col-sm-6">
            <div class="form-group">
                <label for="device">Device</label>
                <input type="text" name="device" class="form-control" placeholder="CD" value="{{album.device}}"
                    required>
            </div>
        </div>
    </div>

    <div class="form-group">
        <label for="producers">Producers</label>
        <input type="text" name="producers" class="form-control" placeholder="John Doe, Will Smith" value="{{album.producers}}"
            required>
    </div>

    <div class="form-group" id="tracks">
        <label>Tracks</label>

        <button id="add-track" class="btn btn-link float-right">Add another track...</button>

        <table class="table">
            {{#each tracks}}
            <tr>
                <td class="track-nr">{{@index}}</td>
                <td><input type="text" name="trackName" class="form-control" placeholder="Hello World!" value="{{trackName}}"
                        required></td>
                <td><input type="time" name="trackLength" class="form-control" min="00:01" value="{{trackLength}}"
                        required></td>
                <td><button class="btn btn-danger remove-track"><i class="fas fa-trash-alt"></i></button></td>
            </tr>
            {{/each}}
        </table>
    </div>

    <button type="submit" class="btn btn-success">Edit</button>
    <a class="btn btn-dark" href="/manage">Cancel</a>
</form>

<script src="/js/addTrack.js"></script>